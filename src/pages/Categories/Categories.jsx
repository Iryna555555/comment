import React, { useEffect } from 'react';
// –ü–æ–¥–∫–ª—é—á–∞–µ–º React –∏ —Ö—É–∫ useEffect, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ 
// –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≥—Ä—É–∑–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π).
import "./categories.scss"; //  –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ñ–∞–π–ª —Å—Ç–∏–ª–µ–π –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
import { Link } from 'react-router-dom'; //–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Link ‚Äî —Å–æ–∑–¥–∞—ë—Ç –ø–µ—Ä–µ—Ö–æ–¥—ã –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
import { useDispatch, useSelector } from 'react-redux';
// ‚Äî –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ö—É–∫–∏ Redux:
// useSelector ‚Äî —á–∏—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Redux-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞
// useDispatch ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–µ–π—Å—Ç–≤–∏—è
import Breadcrumbs from '../../components/Breadcrumbs/Breadcrumbs'; //‚Äî –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º "—Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏", —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Ç—å:Main page / Categories
import { fetchCategories } from '../../store/api/category'; // ‚Äî –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞.

const Categories = () => { //–û–±—ä—è–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

    const { categories } = useSelector((state) => state.category); //‚Äî –ß–∏—Ç–∞–µ–º –º–∞—Å—Å–∏–≤ categories –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
    //–ï—Å–ª–∏ –æ–Ω –ø—É—Å—Ç–æ–π ‚Äî –∑–Ω–∞—á–∏—Ç, –Ω–∞–¥–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞.

    const dispatch = useDispatch(); //–ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –≤ Redux, –Ω–∞–ø—Ä–∏–º–µ—Ä dispatch(fetchCategories())

    useEffect(() => {
        if (categories.length === 0) {
            dispatch(fetchCategories());
        }
    }, [])
    //     –ß—Ç–æ –¥–µ–ª–∞–µ—Ç	–ü–æ—á–µ–º—É –Ω—É–∂–Ω–æ
    // useEffect(...)	–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞
    // if (categories.length === 0)	–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
    // dispatch(fetchCategories())	–ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞
    // üí° –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å [] –∫–∞–∫ –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç, —á—Ç–æ–±—ã —ç—Ñ—Ñ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑:


    return (
        <div className='categories'> {/** –í–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. */}
            <div className="categories__container"> {/**–û–±—ë—Ä—Ç–∫–∞ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç—Å—Ç—É–ø–æ–≤. */}
                <Breadcrumbs />
                <h2 className="page-title">Categories</h2> {/** –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ö–ª–∞—Å—Å page-title ‚Äî –æ–±—â–∏–π —Å—Ç–∏–ª—å. */}
                <div className="categories__list"> {/**–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π. */}
                    {categories.map((category) => (
                        <Link key={category.id} to={`/categories/${category.title}`} className="category-card">
                            {/**‚Äî –î–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:—Å–æ–∑–¥–∞—ë–º —Å—Å—ã–ª–∫—É (Link):-–≤–µ–¥—ë—Ç –Ω–∞ /categories/–Ω–∞–∑–≤–∞–Ω–∏–µ:

-–æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ category-card. // .map() ‚Äî —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤, –ø–µ—Ä–µ–±–∏—Ä–∞—è –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏
// üîπ –í React —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.*/}
                            {category.image && (
                                <img
                                    src={`https://exam-server-5c4e.onrender.com${category.image}`}
                                    alt={category.title}
                                    className="category-card__image"
                                    /**‚Äî –ï—Å–ª–∏ —É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –µ–≥–æ:–¥–æ–±–∞–≤–ª—è–µ–º alt –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ SEO */
                                />
                            )}
                            <span className="category-card__link">{category.title}</span>
                            {/**–¢–µ–∫—Å—Ç ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Plants", "Tools") */}
                        </Link>
                    ))}
                </div>
            </div>
        </div>
    );
};

export default Categories;   
// ‚Äî –ß—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ App.jsx (–≤ –º–∞—Ä—à—Ä—É—Ç–∞—Ö). 

// ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Categories.jsx:
// –ß—Ç–æ |	–ö–æ–º–ø–æ–Ω–µ–Ω—Ç / –ª–æ–≥–∏–∫–∞
// –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ |	dispatch(fetchCategories())
// –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ |	<Breadcrumbs />
// –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π |	.map(...) –ø–æ categories
// –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é |	<Link to="/categories/:title" />